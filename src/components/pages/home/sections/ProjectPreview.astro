---
import type { CollectionEntry } from 'astro:content'

interface Props {
	project: CollectionEntry<'project'>
}

const { data, slug } = Astro.props.project

const [, projectSlug] = slug.split('/')
---

<article>
	<a href={`projects/${projectSlug}`} class="flex flex-col gap-2 lg:gap-3">
		<img
			src={data.img}
			alt={data.img_alt || ''}
			loading="lazy"
			decoding="async"
			class="aspect-video size-full object-cover"
			transition:name={`${projectSlug}-hero-img`}
		/>
		<div
			class="flex flex-row justify-between text-xl leading-5 font-semibold tracking-tight lg:text-2xl lg:leading-7"
		>
			<div class="capitalize">
				<span class="mb-1 block sm:mb-0 sm:inline">{data.title}</span>
				<span class="font-light">{data.role}</span>
			</div>
			<div class="uppercase">{data.period}</div>
		</div>
	</a>
</article>
