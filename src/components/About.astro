---
import { getI18N } from "../i18n";
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const portrait = {
  img: "/assets/portrait.jpg",
  img_alt: "Portrait picture of me in office with indoor plants in background.",
};
---

<section class="wrapper">
  <header>
    <a id="about"><h2>{i18n.about.h2}</h2></a>
  </header>
  <div class="about">
    <img
      class="portrait"
      src={portrait.img}
      alt={portrait.img_alt || ""}
      loading="lazy"
      decoding="async"
    />
    <div class="bio">
      <h3>{i18n.about.bio.h3}</h3>
      <div class="content">
        <p>{i18n.about.bio.paragraph1}</p>
        <p>{i18n.about.bio.paragraph2}</p>
      </div>
    </div>
    <div class="experience">
      <h3>{i18n.about.experience.h3}</h3>
      <ul class="experiences">
        {
          i18n.about.experience.experiences.map((exp) => (
            <li class="experience-item">
              <h4>{exp.company}</h4>
              <aside>
                <div class="role">{exp.role}</div>
                <div class="dates">{exp.dates}</div>
              </aside>
              <p>{exp.paragraph}</p>
              <ul class="tags">
                {exp.tags.map((tag) => (
                  <li class="tag">{tag}</li>
                ))}
              </ul>
            </li>
          ))
        }
      </ul>
    </div>
    <div class="skills">
      <h3>{i18n.about.skills.h3}</h3>
      <ul>
        {i18n.about.skills.currentlyOffering.map((skill) => <li>{skill}</li>)}
      </ul>
    </div>
    <div class="education">
      <h3>{i18n.about.education.h3}</h3>
      <ul>
        {
          i18n.about.education.degrees.map((deg) => (
            <li>
              <h4>{deg.title}</h4>
              <aside>
                <span class="institution">{deg.institution}</span>
                <span class="dates">{deg.dates}</span>
              </aside>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
  <div class="cta">
    {i18n.about.cta.text}<a href="#download"> {i18n.about.cta.link}</a>
  </div>
</section>

<style>
  .about {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: repeat(auto, 5);
    grid-template-areas:
      "portrait-img"
      "bio"
      "experience"
      "skills"
      "education";
    gap: var(--space-7);
    font-size: var(--font-size-1);
  }

  h2 {
    margin-bottom: var(--space-8);
    font-size: var(--font-size-9);
    color: var(--font-color-5);
  }

  h3 {
    margin-bottom: var(--space-6);
    color: var(--font-color-1);
    letter-spacing: var(--font-letter-spacing-4);
    font-size: var(--font-size-3);
  }

  h4 {
    color: var(--font-color-5);
    letter-spacing: var(--font-letter-spacing-3);
    font-weight: var(--font-weight-5);
    font-size: var(--font-size-3);
    text-transform: capitalize;
  }

  aside {
    display: flex;
    justify-content: space-between;
  }

  p {
    color: var(--font-color-4);
    line-height: var(--font-line-height-5);
  }
  .experiences {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .experience-item {
    display: flex;
    flex-direction: column;
  }

  .experience p {
    margin-top: var(--space-1);
  }

  .role,
  .institution {
    color: var(--font-color-1);
    text-transform: capitalize;
    font-weight: var(--font-weight-4);
    font-size: var(--font-size-2);
    font-family: var(--font-family-brand);
    letter-spacing: var(--font-letter-spacing-3);
  }

  .dates {
    color: var(--font-color-1);
    text-transform: capitalize;
    margin: auto 0;
    /* Check typography here */
  }

  .tags {
    margin-top: var(--space-1);
    display: inline-flex;
    gap: var(--space-1);
    flex-wrap: wrap;
  }

  .tag {
    text-transform: capitalize;
    /* font-weight: 600; */
    color: var(--font-color-5);
  }

  .tag:first-child::before {
    content: "⎯⎯";
    margin-right: var(--space-1);
  }

  .tag:before {
    content: "⦁";
    margin-right: var(--space-1);
  }

  .portrait {
    grid-area: portrait-img;
  }

  .bio {
    grid-area: bio;
  }

  .bio .content {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .experience {
    grid-area: experience;
  }

  .skills {
    grid-area: skills;
  }

  .education {
    grid-area: education;
  }

  .cta {
    margin-top: var(--space-8);
    margin-bottom: var(--space-10);
    text-align: end;
    font-size: var(--font-size-2);
    color: var(--font-color-1);
  }

  .cta a {
    font-family: var(--font-family-body);
    /* font-weight: 500; */
  }

  @media (min-width: 35em) {
    .about {
      grid-template-columns: 1fr 2fr;
      grid-template-rows: repeat(auto, 4);
      grid-template-areas:
        "portrait-img bio"
        "experience experience"
        "education education"
        "skills skills";
    }
  }

  @media (min-width: 50em) {
    .about {
      grid-template-columns: 1fr 2fr;
      grid-template-rows: repeat(auto, 3);
      grid-template-areas:
        "portrait-img bio"
        "education experience"
        "skills experience";
    }
  }

  @media (min-width: 70em) {
    .about {
      grid-template-columns: 3fr 4fr 5fr;
      grid-template-rows: repeat(auto, 2);
      grid-template-areas:
        "portrait-img bio experience"
        "skills education experience";
    }
  }
</style>
